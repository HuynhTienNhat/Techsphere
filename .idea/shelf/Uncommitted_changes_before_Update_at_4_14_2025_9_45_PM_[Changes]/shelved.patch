Index: FE/src/App.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { BrowserRouter as Router, Routes, Route, useLocation } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport CustomerLayout from \"./layouts/CustomerLayout\";\r\nimport AdminLayout from \"./layouts/AdminLayout\";\r\nimport Home from \"./pages/Customer/Home/Home\";\r\nimport Products from \"./pages/Customer/Products/Products\";\r\nimport ProductDetail from \"./pages/Customer/ProductDetails/Product_Details\";\r\nimport Login from \"./pages/Auth/Login\";\r\nimport Register from \"./pages/Auth/Register\";\r\nimport AdminDashBoard from \"./pages/Admin/Dashboard/Dashboard\";\r\nimport ProtectedAdminRoute from \"./routes/ProtectedAdminRoute\";\r\nimport AdminProducts from './pages/Admin/Products/Products.jsx';\r\nimport Users from './pages/Admin/Users/Users.jsx';\r\n\r\nfunction AppContent() {\r\n  const location = useLocation();\r\n  const [role, setRole] = useState(localStorage.getItem(\"role\"));\r\n\r\n  // Lắng nghe sự kiện thay đổi token/role để cập nhật trạng thái\r\n  useEffect(() => {\r\n    const handleTokenChange = () => {\r\n      setRole(localStorage.getItem(\"role\"));\r\n    };\r\n\r\n    window.addEventListener(\"token-changed\", handleTokenChange);\r\n    window.addEventListener(\"storage\", handleTokenChange);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"token-changed\", handleTokenChange);\r\n      window.removeEventListener(\"storage\", handleTokenChange);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Routes>\r\n      {/* Customer Routes */}\r\n      <Route\r\n        path=\"/\"\r\n        element={\r\n          <CustomerLayout>\r\n            <Home />\r\n          </CustomerLayout>\r\n        }\r\n      />\r\n      <Route\r\n        path=\"/products\"\r\n        element={\r\n          <CustomerLayout>\r\n            <Products />\r\n          </CustomerLayout>\r\n        }\r\n      />\r\n      <Route\r\n        path=\"/products/:id\"\r\n        element={\r\n          <CustomerLayout>\r\n            <ProductDetail />\r\n          </CustomerLayout>\r\n        }\r\n      />\r\n      <Route\r\n        path=\"/login\"\r\n        element={\r\n          <CustomerLayout>\r\n            <Login />\r\n          </CustomerLayout>\r\n        }\r\n      />\r\n      <Route\r\n        path=\"/register\"\r\n        element={\r\n          <CustomerLayout>\r\n            <Register />\r\n          </CustomerLayout>\r\n        }\r\n      />\r\n      {/* Admin Routes */}\r\n      <Route\r\n        path=\"/admin/*\"\r\n        element={\r\n          <ProtectedAdminRoute>\r\n            <AdminLayout>\r\n              <Routes>\r\n                <Route path=\"/\" element={<AdminDashBoard />} />\r\n                <Route path=\"products\" element={<AdminProducts />} />\r\n                <Route path=\"users\" element={<Users/>}/>\r\n              </Routes>\r\n            </AdminLayout>\r\n          </ProtectedAdminRoute>\r\n        }\r\n      />\r\n    </Routes>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router>\r\n      <AppContent />\r\n    </Router>\r\n  );\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FE/src/App.jsx b/FE/src/App.jsx
--- a/FE/src/App.jsx	(revision 5564163f94a56f60867da15c9a36e6676e605ddb)
+++ b/FE/src/App.jsx	(date 1744550958058)
@@ -11,6 +11,7 @@
 import ProtectedAdminRoute from "./routes/ProtectedAdminRoute";
 import AdminProducts from './pages/Admin/Products/Products.jsx';
 import Users from './pages/Admin/Users/Users.jsx';
+import Cart from "./pages/Customer/Cart/Cart.jsx";
 
 function AppContent() {
   const location = useLocation();
@@ -56,6 +57,14 @@
           <CustomerLayout>
             <ProductDetail />
           </CustomerLayout>
+        }
+      />
+      <Route
+        path="/cart"
+        element={
+          <CustomerLayout>
+            <Cart/>
+          </CustomerLayout>
         }
       />
       <Route
Index: FE/src/services/api.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// src/services/api.js\r\nexport const fetchProducts = async (\r\n    params = {},\r\n    requiresAuth = false,\r\n    options = {}\r\n  ) => {\r\n    let url;\r\n    const { brand, keyword, sortBy } = params;\r\n  \r\n    if (keyword) {\r\n      url = new URL(`http://localhost:8080/api/products/search`);\r\n      url.searchParams.append(\"keyword\", encodeURIComponent(keyword));\r\n    } else if (brand && brand !== \"All\") {\r\n      url = new URL(`http://localhost:8080/api/products/brand/${encodeURIComponent(brand)}`);\r\n    } else {\r\n      url = new URL(\"http://localhost:8080/api/products\");\r\n    }\r\n  \r\n    if (sortBy) {\r\n      url.searchParams.append(\"sortBy\", sortBy);\r\n    }\r\n  \r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n    };\r\n    if (requiresAuth) {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n  \r\n    const response = await fetch(url, {\r\n      method: \"GET\",\r\n      headers,\r\n    });\r\n    if (!response.ok) {\r\n      console.log(\"Error response:\", await response.text());\r\n      throw new Error(\"Không thể tải sản phẩm!\");\r\n    }\r\n    return response.json();\r\n  };\r\n  \r\n  // fetchBrands giữ nguyên\r\n  export const fetchBrands = async () => {\r\n    const response = await fetch(\"http://localhost:8080/api/brands\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    if (!response.ok) {\r\n      console.log(\"Error response:\", await response.text());\r\n      throw new Error(\"Không thể tải danh sách hãng!\");\r\n    }\r\n    return response.json();\r\n  };
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FE/src/services/api.js b/FE/src/services/api.js
--- a/FE/src/services/api.js	(revision 5564163f94a56f60867da15c9a36e6676e605ddb)
+++ b/FE/src/services/api.js	(date 1744572636054)
@@ -54,4 +54,28 @@
       throw new Error("Không thể tải danh sách hãng!");
     }
     return response.json();
-  };
\ No newline at end of file
+  };
+
+  export const fetchCart = async () => {
+    const token = localStorage.getItem("token");
+    if (!token) {
+      throw new Error("Token không tồn tại");
+    }
+  
+    const response = await fetch("http://localhost:8080/api/cart", {
+      method: "GET",
+      headers: {
+        "Content-Type": "application/json",
+        "Authorization": `Bearer ${token}`,
+      },
+    });
+  
+    if (!response.ok) {
+      console.log("Error response:", await response.text());
+      throw new Error("Không thể tải giỏ hàng");
+    }
+  
+    return response.json();
+  };
+
+  
\ No newline at end of file
